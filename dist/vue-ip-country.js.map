{"version":3,"file":"vue-ip-country.js","mappings":"oCACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,4BCAlF,MAAM,EAA+BI,ICKrC,E,kCCsBU,QAAEC,IAAY,IAAAC,QAAO,aAErBC,GAAU,IAAAC,KAAI,OACpB,IAAIC,E,OAmCJ,IAAAC,QAAM,IAAMC,EAAMC,KA3BlB,SAAiBA,GAEbL,EAAQM,MAAQ,MAChBJ,GAAYK,QACZL,EAAa,IAAIM,gBAEjB,MAAMC,EAAM,GAAGX,KAAWO,IACpBK,EAAU,CAAEC,OAAQT,EAAWS,QAErCC,MAAMH,EAAKC,GAASG,MAAKC,IACrB,GAAIA,EAASC,GAAI,OAAOD,EAASE,OACjC,MAAMC,MAAMH,EAASI,eACtBL,MAAKP,IACJN,EAAQM,MAAQA,KACjBa,OAAMC,IACc,eAAfA,EAAMC,OACVrB,EAAQM,MAAQ,wBAWM,CAC1BgB,WAAW,I,uNChEbC,EAAW,CACbzB,QAAS,sCAGE,SAAS,EAAC0B,EAAKd,GAC1Bc,EAAIC,UAAU,YAAa,GAC3BD,EAAIE,QAAQ,YAAa,IAAKH,KAAab,I","sources":["webpack://VueIpCountry/webpack/bootstrap","webpack://VueIpCountry/webpack/runtime/define property getters","webpack://VueIpCountry/webpack/runtime/hasOwnProperty shorthand","webpack://VueIpCountry/external var \"Vue\"","webpack://VueIpCountry/./src/index.vue?c82d","webpack://VueIpCountry/./src/index.vue","webpack://VueIpCountry/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<!--\n    Template\n-->\n\n<template>\n    <div>\n        <h1>{{ props.ip }}</h1>\n        <h2>Country: {{ country }}</h2>\n    </div>\n</template>\n\n\n\n<!--\n    Scripts\n-->\n\n<script setup>\n\n    import { ref, watch, inject, defineProps } from 'vue'\n\n\n\n    // --------------------\n    // Options\n    // --------------------\n\n    const { baseURL } = inject('IpCountry');\n    const props = defineProps(['ip'])\n    const country = ref('...');\n    let controller;\n\n\n\n    // --------------------\n    // Update country\n    // --------------------\n\n    function update (ip) {\n\n        country.value = '...';\n        controller?.abort();\n        controller = new AbortController();\n\n        const url = `${baseURL}/${ip}`;\n        const options = { signal: controller.signal }\n\n        fetch(url, options).then(response => {\n            if (response.ok) return response.text();\n            throw Error(response.statusText);\n        }).then(value => {\n            country.value = value;\n        }).catch(error => {\n            if (error.name === 'AbortError') return;\n            country.value = 'Failed to fetch';\n        })\n\n    }\n\n\n\n    // --------------------\n    // Watch IP\n    // --------------------\n\n    watch(() => props.ip, update, {\n        immediate: true\n    });\n\n\n\n</script>","import IpCountry from './index.vue'\n\nconst defaults = {\n    baseURL: 'https://get.geojs.io/v1/ip/country'\n}\n\nexport default function (app, options) {\n    app.component('IpCountry', IpCountry);\n    app.provide('IpCountry', { ...defaults, ...options })\n}"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Vue","baseURL","inject","country","ref","controller","watch","props","ip","value","abort","AbortController","url","options","signal","fetch","then","response","ok","text","Error","statusText","catch","error","name","immediate","defaults","app","component","provide"],"sourceRoot":""}